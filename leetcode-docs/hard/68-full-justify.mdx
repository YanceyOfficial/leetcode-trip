---
id: 68-full-justify
title: æ–‡æœ¬å·¦å³å¯¹é½
sidebar_label: 68. æ–‡æœ¬å·¦å³å¯¹é½
---

## é¢˜ç›®

ç»™å®šä¸€ä¸ªå•è¯æ•°ç»„ `words` å’Œä¸€ä¸ªé•¿åº¦ `maxWidth`, é‡æ–°æ’ç‰ˆå•è¯, ä½¿å…¶æˆä¸ºæ¯è¡Œæ°å¥½æœ‰ `maxWidth` ä¸ªå­—ç¬¦, ä¸”å·¦å³ä¸¤ç«¯å¯¹é½çš„æ–‡æœ¬.

ä½ åº”è¯¥ä½¿ç”¨**è´ªå¿ƒç®—æ³•**æ¥æ”¾ç½®ç»™å®šçš„å•è¯; ä¹Ÿå°±æ˜¯è¯´, å°½å¯èƒ½å¤šåœ°å¾€æ¯è¡Œä¸­æ”¾ç½®å•è¯. å¿…è¦æ—¶å¯ç”¨ç©ºæ ¼ `' '` å¡«å……, ä½¿å¾—æ¯è¡Œæ°å¥½æœ‰ `maxWidth` ä¸ªå­—ç¬¦.

è¦æ±‚å°½å¯èƒ½å‡åŒ€åˆ†é…å•è¯é—´çš„ç©ºæ ¼æ•°é‡. å¦‚æœæŸä¸€è¡Œå•è¯é—´çš„ç©ºæ ¼ä¸èƒ½å‡åŒ€åˆ†é…, åˆ™å·¦ä¾§æ”¾ç½®çš„ç©ºæ ¼æ•°è¦å¤šäºå³ä¾§çš„ç©ºæ ¼æ•°.

æ–‡æœ¬çš„æœ€åä¸€è¡Œåº”ä¸ºå·¦å¯¹é½, ä¸”å•è¯ä¹‹é—´ä¸æ’å…¥é¢å¤–çš„ç©ºæ ¼.

æ³¨æ„:

- å•è¯æ˜¯æŒ‡ç”±éç©ºæ ¼å­—ç¬¦ç»„æˆçš„å­—ç¬¦åºåˆ—.
- æ¯ä¸ªå•è¯çš„é•¿åº¦å¤§äº `0`, å°äºç­‰äº `maxWidth`.
- è¾“å…¥å•è¯æ•°ç»„ `words` è‡³å°‘åŒ…å«ä¸€ä¸ªå•è¯.

:::note æç¤º:

- `1 <= words.length <= 300`
- `1 <= words[i].length <= 20`
- `words[i]` ç”±å°å†™è‹±æ–‡å­—æ¯å’Œç¬¦å·ç»„æˆ
- `1 <= maxWidth <= 100`
- `words[i].length <= maxWidth`

:::

:::info ç¤ºä¾‹

```bash
è¾“å…¥: words = ["This", "is", "an", "example", "of", "text", "justification."], maxWidth = 16
è¾“å‡º:
[
  "This    is    an",
  "example  of text",
  "justification.  "
]
```

```bash
è¾“å…¥:words = ["What", "must", "be", "acknowledgment", "shall", "be"], maxWidth = 16
è¾“å‡º:
[
  "What   must   be",
  "acknowledgment  ",
  "shall be        "
]
è§£é‡Š: æ³¨æ„æœ€åä¸€è¡Œçš„æ ¼å¼åº”ä¸º "shall be    " è€Œä¸æ˜¯ "shall     be",
     å› ä¸ºæœ€åä¸€è¡Œåº”ä¸ºå·¦å¯¹é½, è€Œä¸æ˜¯å·¦å³ä¸¤ç«¯å¯¹é½ã€‚
     ç¬¬äºŒè¡ŒåŒæ ·ä¸ºå·¦å¯¹é½, è¿™æ˜¯å› ä¸ºè¿™è¡ŒåªåŒ…å«ä¸€ä¸ªå•è¯ã€‚
```

```bash
è¾“å…¥:words = ["Science", "is", "what", "we", "understand", "well", "enough",
            "to", "explain", "to", "a", "computer.", "Art", "is", "everything",
            "else", "we", "do"], maxWidth = 20
è¾“å‡º:
[
  "Science  is  what we",
  "understand      well",
  "enough to explain to",
  "a  computer.  Art is",
  "everything  else  we",
  "do                  "
]
```

:::

## é¢˜è§£

é¦–å…ˆè´ªå¿ƒåœ°å°† `word` å°½å¯èƒ½æ”¾åˆ°ä¸€è¡Œ:

1. å¦‚æœå½“å‰è¡Œåªæœ‰ä¸€ä¸ªå•è¯, ç‰¹æ®Šå¤„ç†ä¸ºå·¦å¯¹é½;
2. å¦‚æœå½“å‰è¡Œä¸ºæœ€åä¸€è¡Œ, ç‰¹æ®Šå¤„ç†ä¸ºå·¦å¯¹é½;
3. å…¶ä½™ä¸ºä¸€èˆ¬æƒ…å†µ, è¦å°½å¯èƒ½å‡åŒ€åˆ†é…å•è¯é—´çš„ç©ºæ ¼æ•°é‡. å¦‚æœæŸä¸€è¡Œå•è¯é—´çš„ç©ºæ ¼ä¸èƒ½å‡åŒ€åˆ†é…, åˆ™å·¦ä¾§æ”¾ç½®çš„ç©ºæ ¼æ•°è¦å¤šäºå³ä¾§çš„ç©ºæ ¼æ•°. 
æˆ‘ç”¨ä½™æ•°æ¥å¤„ç†å½“æ— æ³•å‡åˆ†æ—¶, ä¿è¯ä¾§æ”¾ç½®çš„ç©ºæ ¼æ•°è¦å¤šäºå³ä¾§çš„ç©ºæ ¼æ•°, æ¯”å®˜æ–¹è§£æ³•ä¸çŸ¥é“é«˜åˆ°å“ªé‡Œå»äº†. ğŸ‘“ğŸ¸

import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'

<Tabs>
  <TabItem value="JavaScript" label="JavaScript" default>

```ts
/**
 * @param {string[]} words
 * @param {number} maxWidth
 * @return {string[]}
 */
var fullJustify = function (words, maxWidth) {
  const n = words.length
  const res = []
  let i = 0

  while (i < n) {
    const line = []

    // è´ªå¿ƒ: å°½å¯èƒ½å¤šåœ°å°† word æ”¾åˆ°ä¸€è¡Œ
    let currLineWidth = words[i].length
    line.push(words[i++])
    
    while (
      i < n &&
      // æ”¾å…¥æ–°å•è¯æ—¶, ä¸ºä¿è¯å’Œå‰ä¸€ä¸ªå•è¯éš”å¼€, è¦å¤šæ”¾ä¸€ä¸ªç©ºæ ¼
      currLineWidth + 1 + words[i].length <= maxWidth
    ) {
      currLineWidth += 1 + words[i].length
      line.push(words[i])
      i++
    }

    // å¦‚æœæ˜¯æœ€åä¸€è¡Œ, å·¦å¯¹é½, å¤šä¸ª word ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€,
    // å¹¶ä¸”åœ¨å°¾éƒ¨å¡«å……ç©ºæ ¼, ç›´åˆ°é•¿åº¦ç­‰äº maxWidth, ç»“æŸåé€€å‡ºå¾ªç¯
    if (i === n) {
      const str = line.join(' ').padEnd(maxWidth)
      res.push(str)
      break
    }

    // å¦‚æœå½“å‰è¡Œåªæœ‰ä¸€ä¸ªå•è¯, å·¦å¯¹é½,
    // å¹¶ä¸”åœ¨å°¾éƒ¨å¡«å……ç©ºæ ¼, ç›´åˆ°é•¿åº¦ç­‰äº maxWidth, ç»“æŸåè·³å‡ºæœ¬è½®å¾ªç¯
    if (line.length === 1) {
      const str = line[0].padEnd(maxWidth)
      res.push(str)
      continue
    }

    // è·å–æ•´ä½“ç©ºæ ¼çš„é•¿åº¦
    const totalWordWidth = currLineWidth - (line.length - 1)
    const totalSpaceWidth = maxWidth - totalWordWidth

    // æ¯ä¸ªå•è¯ä¹‹é—´è¦å°½å¯èƒ½çš„å¹³æ‘Šç©ºæ ¼
    // ä½†å¦‚æœæŸä¸€è¡Œå•è¯é—´çš„ç©ºæ ¼ä¸èƒ½å‡åŒ€åˆ†é…, åˆ™å·¦ä¾§æ”¾ç½®çš„ç©ºæ ¼æ•°è¦å¤šäºå³ä¾§çš„ç©ºæ ¼æ•°
    // å› æ­¤æˆ‘ä»¬è®°å½•ä½™æ•°, å¦‚æœå­˜åœ¨ä½™æ•°, å°±å¾€å·¦ä¾§çš„ç©ºé—´å¤šåŠ ä¸€ä¸ª
    //
    // æ¯”å¦‚ line = ["Science", "is", "what", "we"], maxWidth = 20
    // å¹³æ‘Šçš„ç©ºæ ¼é•¿åº¦ä¸º 5 / 3 å‘ä¸‹å–æ•´ä¸º 1; ä½†è¿˜ä½™å‡ºä¸¤ä¸ªæ¥, å³ carry = 2
    // å› æ­¤åœ¨ "Science" å’Œ "is" ä¹‹é—´, ä»¥åŠ "is" å’Œ "what" ä¹‹é—´, éƒ½è¦é¢å¤–å†å¢åŠ ä¸€ä¸ªç©ºæ ¼
    // å³æœ€ç»ˆç»“æœä¸º "Science  is  what we"
    let carry = totalSpaceWidth % (line.length - 1)
    const spaceItemWidth = (totalSpaceWidth - carry) / (line.length - 1)

    let spaceItem = ''
    for (let i = 0; i < spaceItemWidth; i++) spaceItem += ' '

    for (let i = 0; i < line.length - 1; i++) {
      if (carry > 0) {
        line[i] += spaceItem + ' '
        carry--
      } else {
        line[i] += spaceItem
      }
    }

    res.push(line.join(''))
  }

  return res
}
```

</TabItem>
<TabItem value="Rust" label="Rust">

```rust
pub fn full_justify(words: Vec<String>, max_width: i32) -> Vec<String> {
    let n = words.len();
    let mut res = vec![];
    let mut i = 0;

    while i < n {
        let mut line = vec![];

        let mut curr_line_width = words[i].len();
        line.push(words[i].to_string());
        i += 1;

        while i < n && curr_line_width + 1 + words[i].len() <= max_width as usize {
            curr_line_width += 1 + words[i].len();
            line.push(words[i].to_string());
            i += 1;
        }

        if i == n {
            let mut str = line.join(" ");
            for _ in 0..(max_width as usize - str.len()) {
                str += " ";
            }
            res.push(str);
        } else if i < n && line.len() == 1 {
            let mut str = line[0].to_string();
            for _ in 0..(max_width as usize - str.len()) {
                str += " ";
            }
            res.push(str);
        } else if i < n && line.len() > 1 {
            let total_word_width = curr_line_width - (line.len() - 1);
            let total_space_width = max_width as usize - total_word_width;

            let mut carry = total_space_width % (line.len() - 1);
            let space_item_width = total_space_width / (line.len() - 1);

            let mut space_item = String::new();
            for _ in 0..space_item_width {
                space_item += " ";
            }

            for i in 0..(line.len() - 1) {
                if carry > 0 {
                    line[i] += (space_item.to_string() + " ").as_str();
                    carry -= 1;
                } else {
                    line[i] += space_item.as_str();
                }
            }

            res.push(line.join(""));
        }
    }

    res
}
```

</TabItem>
</Tabs>
