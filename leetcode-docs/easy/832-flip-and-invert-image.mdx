---
id: 832-flip-and-invert-image
title: ç¿»è½¬å›¾åƒ
sidebar_label: 832. ç¿»è½¬å›¾åƒ
---

## é¢˜ç›®

ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶çŸ©é˜µ A, æˆ‘ä»¬æƒ³å…ˆæ°´å¹³ç¿»è½¬å›¾åƒ, ç„¶ååè½¬å›¾åƒå¹¶è¿”å›ç»“æœ.

æ°´å¹³ç¿»è½¬å›¾ç‰‡å°±æ˜¯å°†å›¾ç‰‡çš„æ¯ä¸€è¡Œéƒ½è¿›è¡Œç¿»è½¬, å³é€†åº.ä¾‹å¦‚, æ°´å¹³ç¿»è½¬ `[1, 1, 0]` çš„ç»“æœæ˜¯ `[0, 1, 1]`.

åè½¬å›¾ç‰‡çš„æ„æ€æ˜¯å›¾ç‰‡ä¸­çš„ 0 å…¨éƒ¨è¢« 1 æ›¿æ¢, 1 å…¨éƒ¨è¢« 0 æ›¿æ¢. ä¾‹å¦‚, åè½¬ `[0, 1, 1]` çš„ç»“æœæ˜¯ `[1, 0, 0]`.

:::info ç¤ºä¾‹

è¾“å…¥: [[1,1,0],[1,0,1],[0,0,0]]

è¾“å‡º: [[1,0,0],[0,1,0],[1,1,1]]

è§£é‡Š: é¦–å…ˆç¿»è½¬æ¯ä¸€è¡Œ: [[0,1,1],[1,0,1],[0,0,0]]; ç„¶ååè½¬å›¾ç‰‡: [[1,0,0],[0,1,0],[1,1,1]]
:::

## é¢˜è§£

### èœ ğŸ” è§£æ³•

æœ€èœçš„å°±æ˜¯æŒ‰ç…§é¢˜ç›®ä¸€æ­¥ä¸€æ­¥çš„ç…§æœ¬å®£ç§‘å°±å¥½äº†.

```ts
/**
 * @param {number[][]} image
 * @return {number[][]}
 */
var flipAndInvertImage = function (image) {
  const len = image.length
  for (let i = 0; i < len; i++) {
    let j = 0,
      k = image[i].length - 1
    while (j < k) {
      ;[image[i][j], image[i][k]] = [image[i][k], image[i][j]]
      j++
      k--
    }

    for (let m = 0; m < image[i].length; m++) {
      image[i][m] ^= 1
    }
  }

  return image
}
```

### ä¸€è¶Ÿæ’åº

å…¶å®å°±æ˜¯æŠŠ**æ°´å¹³ç¿»è½¬**å’Œ**åè½¬**ä¸€å—åšäº†.

- å¦‚æœè¿™ä¸¤ä¸ªæ•°æ˜¯ä¸åŒçš„, æ¯”å¦‚è¯´ä¸€ä¸ªæ˜¯ 1, ä¸€ä¸ªæ˜¯ 0, é‚£ä¹ˆå…ˆ 1 0 åè½¬, åˆ™ä¸€ä¸ªæ˜¯ 0, ä¸€ä¸ªæ˜¯ 1, å†å·¦å³ç¿»è½¬, åˆå˜å›ä¸€ä¸ªæ˜¯ 1, ä¸€ä¸ªæ˜¯ 0. è¿™è¯´æ˜å½“ä¸¤ä¸ªæ•°æ˜¯ä¸åŒçš„æ—¶å€™, ä¸ç”¨åšä»»ä½•äº‹æƒ…;
- å½“ä¸¤ä¸ªæ•°ç›¸åŒçš„æ—¶å€™, è¦åŒæ—¶åè½¬;
- **æ³¨æ„**: å¦‚æœ item é•¿åº¦ä¸ºå¥‡æ•°, é‚£ä¹ˆåœ¨ while å¾ªç¯ä¸­, left å’Œ right ç›¸ç­‰æ—¶æ˜¯ä¸ä¼šå¯¹è¿™ä¸ªå€¼è¿›è¡Œä»»ä½•æ“ä½œçš„, ä½ éœ€è¦æ‰‹åŠ¨ä¸ºå®ƒåè½¬.

```ts
var flipAndInvertImage = function (image) {
  const n = image.length
  for (let i = 0; i < n; i++) {
    let left = 0,
      right = n - 1

    // å½“ä¸¤ä¸ªæ•°ç›¸åŒçš„æ—¶å€™, è¦åŒæ—¶åè½¬
    while (left < right) {
      if (image[i][left] === image[i][right]) {
        image[i][left] ^= 1
        image[i][right] ^= 1
      }
      left++
      right--
    }

    // å¦‚æœ item é•¿åº¦ä¸ºå¥‡æ•°, é‚£ä¹ˆåœ¨ while å¾ªç¯ä¸­, left å’Œ right
    // ç›¸ç­‰æ—¶æ˜¯ä¸ä¼šå¯¹è¿™ä¸ªå€¼è¿›è¡Œä»»ä½•æ“ä½œçš„, ä½ éœ€è¦æ‰‹åŠ¨ä¸ºå®ƒåè½¬.
    if (left === right) {
      image[i][left] ^= 1
    }
  }
  return image
}
```

æ—¶é—´å¤æ‚åº¦: O(nÂ²). å…¶ä¸­ n æ˜¯çŸ©é˜µ image çš„è¡Œæ•°å’Œåˆ—æ•°. éœ€è¦éå†çŸ©é˜µä¸€æ¬¡, è¿›è¡Œç¿»è½¬æ“ä½œ.

ç©ºé—´å¤æ‚åº¦: O(1). é™¤äº†è¿”å›å€¼ä»¥å¤–, é¢å¤–ä½¿ç”¨çš„ç©ºé—´ä¸ºå¸¸æ•°.

## æ‰©å±•: 1 å˜æˆ 0, 0 å˜æˆ 1

æœ‰ä¸¤ç§åšæ³•: åˆ†åˆ«æ˜¯:

- ä½¿ç”¨å¼‚æˆ–è¿ç®—, å³ `i ^= 1`
- `1 - i`
