---
id: 496-next-greater-element
title: ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -i
sidebar_label: 496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -i
keywords:
  - Stack
---

:::success Tips
é¢˜ç›®ç±»å‹: å•è°ƒæ ˆ

ç›¸å…³é¢˜ç›®:

- [84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢](/leetcode/hard/84-largest-rectangle-area)
- [316. å»é™¤é‡å¤å­—æ¯](/leetcode/medium/316-remove-duplicate-letters)
- [402. ç§»æ‰ k ä½æ•°å­—](/leetcode/medium/402-remove-kdigits)
- [503. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -ii](/leetcode/medium/503-next-greater-elements)
- [739. æ¯æ—¥æ¸©åº¦](/leetcode/medium/739-daily-temperatures)
- [1081. ä¸åŒå­—ç¬¦çš„æœ€å°å­åºåˆ—](/leetcode/medium/1081-smallest-subsequence)

:::

## é¢˜ç›®

ç»™ä½ ä¸¤ä¸ª**æ²¡æœ‰é‡å¤å…ƒç´ **çš„æ•°ç»„ nums1 å’Œ nums2, å…¶ä¸­ nums1 æ˜¯ nums2 çš„å­é›†.

è¯·ä½ æ‰¾å‡º nums1 ä¸­æ¯ä¸ªå…ƒç´ åœ¨ nums2 ä¸­çš„ä¸‹ä¸€ä¸ªæ¯”å…¶å¤§çš„å€¼.

nums1 ä¸­æ•°å­— x çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ æ˜¯æŒ‡ x åœ¨ nums2 ä¸­å¯¹åº”ä½ç½®çš„å³è¾¹çš„ç¬¬ä¸€ä¸ªæ¯” x å¤§çš„å…ƒç´ . å¦‚æœä¸å­˜åœ¨, å¯¹åº”ä½ç½®è¾“å‡º -1.

:::info ç¤ºä¾‹
è¾“å…¥: nums1 = [4, 1, 2], nums2 = [1, 3, 4, 2].

è¾“å‡º: [-1, 3, -1]

è§£é‡Š:

å¯¹äº num1 ä¸­çš„æ•°å­— 4, ä½ æ— æ³•åœ¨ç¬¬äºŒä¸ªæ•°ç»„ä¸­æ‰¾åˆ°ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å­—(4 åœ¨ nums2 çš„å³è¾¹åªæœ‰ 2 äº†), å› æ­¤è¾“å‡º -1.

å¯¹äº num1 ä¸­çš„æ•°å­— 1, ç¬¬äºŒä¸ªæ•°ç»„ä¸­æ•°å­— 1 å³è¾¹çš„ä¸‹ä¸€ä¸ªè¾ƒå¤§æ•°å­—æ˜¯ 3.

å¯¹äº num1 ä¸­çš„æ•°å­— 2, ç¬¬äºŒä¸ªæ•°ç»„ä¸­æ²¡æœ‰ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å­—, å› æ­¤è¾“å‡º -1.

:::

## é¢˜è§£

### æš´åŠ›è§£æ³• ğŸ¸

æ˜¾ç„¶å…ˆå¯¹ num1 å¾ªç¯, å¯¹äº num1 çš„æ¯ä¸ªå…ƒç´  x, æ‰¾åˆ° x åœ¨ num2 çš„ç´¢å¼•, ä»è€Œé€šè¿‡ `nums2.slice(nums2.indexOf(x) + 1)` æ‰¾åˆ°å³è¾¹çš„æ•°ç»„ rigths, ç„¶åå†éå† rigths, æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äº x çš„æ•°å­—å, å³åˆ»è·³å‡ºå¾ªç¯. ç„¶é¹… too young too simple sometimes naive. è¿™ç§è§£æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n<sup>2</sup>).

```ts
/**
 * @param {number[]} nums1
 * @param {number[]} nums2
 * @return {number[]}
 */
var nextGreaterElement = function (nums1, nums2) {
  const len = nums1.length
  const res = new Array(len).fill(-1)

  for (let i = 0; i < len; i++) {
    const curr = nums1[i]
    const rights = nums2.slice(nums2.indexOf(curr) + 1)

    for (let j = 0; j < rights.length; j++) {
      if (rights[j] > curr) {
        res[i] = rights[j]
        break
      }
    }
  }

  return res
}
```

### å•è°ƒæ ˆ

:::success TIPS
å•è°ƒæ ˆå®é™…ä¸Šå°±æ˜¯æ ˆ, ä½¿å¾—æ¯æ¬¡æ–°å…ƒç´ å…¥æ ˆå, æ ˆå†…çš„å…ƒç´ éƒ½ä¿æŒæœ‰åº(å•è°ƒé€’å¢æˆ–å•è°ƒé€’å‡).
:::

ä¸‹é¢è¿™ä¸ªå›¾å¾ˆæœ‰å¯å‘, æŠŠæ•°ç»„çš„å…ƒç´ æƒ³è±¡æˆå¹¶åˆ—ç«™ç«‹çš„äºº, å…ƒç´ å¤§å°æƒ³è±¡æˆäººçš„èº«é«˜. ä»¥ç¬¬ä¸€ä¸ª 2 å…ƒç´ ä¸ºä¾‹, å‘åçœ‹å», åé¢çš„ 1 å’Œ 2 å…¨è¢«é®ä½äº†, ä½ åªèƒ½çœ‹åˆ° 4, å› æ­¤ 2 å¯¹åº”çš„**ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ **å°±æ˜¯ 4; åŒç†ç¬¬äºŒä¸ªå…ƒç´  1 å‘åçœ‹å», æœ€å…ˆèƒ½çœ‹åˆ° 2, å› æ­¤ 1 å¯¹åº”çš„**ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ **å°±æ˜¯ 2.

![496-next-greater-element](../../static/img/496-next-greater-element.jpeg)

```ts
var nextGreaterElement = function (nums1, nums2) {
  const map = new Map()
  const stack = []

  for (const letter of nums2) {
    while (stack.length > 0 && stack[stack.length - 1] < letter) {
      map.set(stack.pop(), letter)
    }

    stack.push(letter)
  }

  const n = nums1.length
  const res = new Array(n).fill(-1)

  for (let i = 0; i < n; i++) {
    if (map.has(nums1[i])) {
      res[i] = map.get(nums1[i])
    }
  }

  return res
}
```
